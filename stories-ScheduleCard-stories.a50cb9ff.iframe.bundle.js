"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[270],{"./src/components/DetailCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_Text__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./src/components/Text.tsx")),_store_useRecommendTravelStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/store/useRecommendTravelStore.ts"),_lib_api_itinerary__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/api/itinerary.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const DetailCard=({title,subtitle,address,hours,rating,imageUrl,attractionData})=>{const updateAttraction=(0,_store_useRecommendTravelStore__WEBPACK_IMPORTED_MODULE_3__.w1)((state=>state.updateAttraction));console.log(title,"===>",hours);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-col border-2 border-gray-300 rounded-2xl shadow-lg bg-[#F8F8F8] w-[880px] h-[208px] hover:border-[#9A77FF] transition-colors duration-200",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex p-6 gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-6 h-full flex flex-col items-center gap-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/icons/Handle Desktop.svg",alt:"icon",className:"w-6 h-6 object-contain"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col gap-2 w-[456px] h-[160px]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.A,{textStyle:"heading1",className:"font-bold truncate overflow-hidden whitespace-nowrap",children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.A,{textStyle:"headline2",className:"text-[#9A77FF] truncate overflow-hidden whitespace-nowrap",children:subtitle}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/icons/Location.svg",alt:"address icon",className:"w-5 h-5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.A,{textStyle:"body1",className:"text-gray-700",children:address})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/icons/Clock.svg",alt:"hours icon",className:"w-5 h-5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.A,{textStyle:"body1",className:"text-gray-700 truncate",children:hours})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/icons/Star.svg",alt:"rating icon",className:"w-5 h-5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.A,{textStyle:"body1",className:"text-gray-700",children:rating})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-[280px] h-[160px] overflow-hidden rounded-2xl",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:imageUrl&&""!==imageUrl.trim()?imageUrl:"https://cdn.visitkorea.or.kr/img/call?cmd=VIEW&id=5dc87836-b647-45ef-ae17-e3247f91b8b4",alt:title,className:"object-cover w-full h-full"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-6 h-full flex flex-col items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/icons/Re_Request.svg",alt:"icon",className:"w-6 h-6 object-contain cursor-pointer",onClick:async()=>{try{const updatedAttraction={...attractionData,name:title,address,description:subtitle,businessTime:hours,rating,coverImage:imageUrl},response=await(0,_lib_api_itinerary__WEBPACK_IMPORTED_MODULE_4__.gJ)(updatedAttraction);updateAttraction(attractionData,response)}catch(error){console.error("업데이트 실패:",error)}}}),attractionData.previousData&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/icons/Reset.svg",alt:"ReSet icon",className:"w-6 h-6 object-contain cursor-pointer",onClick:()=>{attractionData.previousData&&updateAttraction(attractionData,attractionData.previousData)}})]})]})})},__WEBPACK_DEFAULT_EXPORT__=DetailCard;DetailCard.__docgenInfo={description:"",methods:[],displayName:"DetailCard",props:{title:{required:!0,tsType:{name:"string"},description:""},subtitle:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""},hours:{required:!0,tsType:{name:"string"},description:""},rating:{required:!0,tsType:{name:"number"},description:""},imageUrl:{required:!0,tsType:{name:"string"},description:""},attractionData:{required:!0,tsType:{name:"Attraction"},description:""}}}},"./src/stories/ScheduleCard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EmptyPlaces:()=>EmptyPlaces,Primary:()=>Primary,SinglePlace:()=>SinglePlace,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ScheduleCard_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),DetailCard=__webpack_require__("./src/components/DetailCard.tsx"),Text=__webpack_require__("./src/components/Text.tsx"),Group=__webpack_require__("./node_modules/framer-motion/dist/es/components/Reorder/Group.mjs"),Item=__webpack_require__("./node_modules/framer-motion/dist/es/components/Reorder/Item.mjs"),useRecommendTravelStore=__webpack_require__("./src/store/useRecommendTravelStore.ts");const DayScheduleCard=({dailySchedule})=>{var _contentRef_current;const[isExpanded,setIsExpanded]=(0,react.useState)(!0),contentRef=(0,react.useRef)(null),updateItinerary=(0,useRecommendTravelStore.w1)((state=>state.updateItinerary));return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 w-[880px]",children:[(0,jsx_runtime.jsxs)("div",{className:"w-[880px] h-[50px] flex items-center justify-between p-[12px_24px] bg-[#F3EEFF] text-black rounded-xl",children:[(0,jsx_runtime.jsxs)(Text.A,{textStyle:"headline1",className:"font-bold",children:[dailySchedule.dayDate,"일 차"]}),(0,jsx_runtime.jsx)("button",{onClick:()=>{setIsExpanded(!isExpanded)},className:"w-[28px] h-[28px] transition",children:isExpanded?(0,jsx_runtime.jsx)("img",{src:"/icons/Chevron Down.svg",alt:"expand",className:"w-full h-full"}):(0,jsx_runtime.jsx)("img",{src:"/icons/Chevron Right.svg",alt:"collapse",className:"w-full h-full"})})]}),(0,jsx_runtime.jsx)("div",{ref:contentRef,style:{height:isExpanded?`${null===(_contentRef_current=contentRef.current)||void 0===_contentRef_current?void 0:_contentRef_current.scrollHeight}px`:"0px",overflow:"hidden",transition:"height 0.3s ease"},children:(0,jsx_runtime.jsx)(Group.x,{axis:"y",values:dailySchedule.attractions,onReorder:newOrder=>{updateItinerary([{...dailySchedule,attractions:newOrder}])},className:"flex flex-col gap-2",children:dailySchedule.attractions.map(((place,index)=>(0,jsx_runtime.jsx)(Item.N,{value:place,children:(0,jsx_runtime.jsxs)("div",{className:"relative flex flex-col gap-2",children:[(0,jsx_runtime.jsx)(DetailCard.A,{title:place.name,subtitle:`${place.type} / ${place.description}`,address:place.address,hours:place.businessTime,rating:place.rating,imageUrl:place.coverImage,attractionData:place}),index<dailySchedule.attractions.length-1&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center w-full pl-[60px] pr-[60px] py-[4px] gap-2",children:[(0,jsx_runtime.jsx)("div",{className:"w-[2px] h-[40px] bg-[url('/icons/DotLine.svg')] bg-repeat-y bg-center"}),place.travelWalkTime&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("img",{src:"/icons/Walk.svg",alt:"walk icon",className:"w-5 h-5"}),(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:place.travelWalkTime})]}),place.travelWalkTime&&place.travelCarTime&&(0,jsx_runtime.jsx)("div",{className:"w-5 h-5 bg-[url('/icons/Dot.svg')] bg-contain bg-no-repeat"}),place.travelCarTime&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("img",{src:"/icons/Car.svg",alt:"car icon",className:"w-5 h-5"}),(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:place.travelCarTime})]}),place.travelCarTime&&place.travelDistance&&(0,jsx_runtime.jsx)("div",{className:"w-5 h-5 bg-[url('/icons/Dot.svg')] bg-contain bg-no-repeat"}),place.travelDistance&&(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2",children:(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:place.travelDistance})})]})]})},place.name)))})})]})},ScheduleCard=DayScheduleCard;DayScheduleCard.__docgenInfo={description:"",methods:[],displayName:"DayScheduleCard",props:{dailySchedule:{required:!0,tsType:{name:"DailyScheduleDtos"},description:""}}};const ScheduleCard_stories={title:"Example/DayScheduleCard",component:ScheduleCard,tags:["autodocs"]},attractionsData=[{id:1,type:"meal",name:"강릉짬뽕순두부 동화가든 본점",address:"강원 강릉시 강동면 순두부길 77번길 15 동화가든",description:"두부요리 / 예약필수",coverImage:"https://cdn.visitkorea.or.kr/img/call?cmd=VIEW&id=5dc87836-b647-45ef-ae17-e3247f91b8b4",businessTime:"매일 07:00 ~ 19:30",rating:4.68,latitude:37.751853,longitude:128.896651,travelWalkTime:"10분",travelCarTime:"5분",travelDistance:"1.2km"},{id:2,type:"place",name:"오죽헌",address:"강원 강릉시 율곡로3139번길 24 오죽헌",description:"입장료 있음 / 운영시간 1시간 전 입장 마감",coverImage:"https://cdn.visitkorea.or.kr/img/call?cmd=VIEW&id=2df9d7f5-bd90-41e5-a59b-334a13f85d7e",businessTime:"09:00 ~ 18:00",rating:4.68,latitude:37.763283,longitude:128.896995,travelWalkTime:"15분",travelCarTime:"5분",travelDistance:"1.2km"},{id:3,type:"place",name:"경포해변",address:"강원 강릉시 강문동 산1",description:"강릉시에 있는 동해안 최대의 해변",coverImage:"https://cdn.visitkorea.or.kr/img/call?cmd=VIEW&id=8ef7b330-fbb0-44c7-94a4-85b2729ff251",businessTime:"00:00 ~ 24:00 상시이용 가능",rating:4.41,latitude:37.803517,longitude:128.924605,travelWalkTime:"20분",travelCarTime:"10분",travelDistance:"3.5km"}],Primary={args:{dailySchedule:{dayDate:3,attractions:attractionsData}}},EmptyPlaces={args:{dailySchedule:{dayDate:2,attractions:[]}}},SinglePlace={args:{dailySchedule:{dayDate:1,attractions:[attractionsData[0]]}}},__namedExportsOrder=["Primary","EmptyPlaces","SinglePlace"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    dailySchedule: {\n      dayDate: 3,\n      attractions: attractionsData\n    }\n  }\n}",...Primary.parameters?.docs?.source}}},EmptyPlaces.parameters={...EmptyPlaces.parameters,docs:{...EmptyPlaces.parameters?.docs,source:{originalSource:"{\n  args: {\n    dailySchedule: {\n      dayDate: 2,\n      attractions: []\n    }\n  }\n}",...EmptyPlaces.parameters?.docs?.source}}},SinglePlace.parameters={...SinglePlace.parameters,docs:{...SinglePlace.parameters?.docs,source:{originalSource:"{\n  args: {\n    dailySchedule: {\n      dayDate: 1,\n      attractions: [attractionsData[0]]\n    }\n  }\n}",...SinglePlace.parameters?.docs?.source}}}}}]);