(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[619],{"./node_modules/styled-jsx/style.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/styled-jsx/dist/index/index.js").style},"./src/components/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Button});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}const dist_clsx=function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n};var Text=__webpack_require__("./src/components/Text.tsx");const BUTTON_VARIANT_STYLES={default:"min-w-[90px] h-[48px] rounded-[28px] px-5 py-3 gap-[10px] bg-[#9A77FF] hover:bg-[#7C49FF] active:bg-[#5F23EB] text-white",confirm:"min-w-[90px] h-[48px] rounded-[28px] px-5 py-3 gap-[10px] bg-black text-white",gradation:"min-w-[90px] h-[48px] rounded-[25px] px-5 py-3 gap-2 bg-[linear-gradient(125.9deg,_#9A77FF_23.39%,_#214BFF_104.52%)] text-white",hover:"min-w-[90px] h-[48px] rounded-[28px] px-5 py-3 gap-[10px] bg-[#7C49FF] text-white",press:"min-w-[90px] h-[48px] rounded-[28px] px-5 py-3 gap-[10px] bg-[#5F23EB] text-white",cancel:"min-w-[90px] h-[48px] rounded-[28px] px-5 py-3 gap-[10px] bg-[#F3EEFF] text-[#9A77FF]"},BUTTON_DISABLED_STYLE="min-w-[90px] h-[44px] rounded-[28px] px-6 py-4 gap-[10px] bg-[#D9D9D9] text-white cursor-not-allowed";function Button({as,variant="default",textStyle="label2",className="",disabled=!1,children,...props}){const Component=as||"button",wrapper=dist_clsx("inline-flex items-center justify-center transition-all",disabled?BUTTON_DISABLED_STYLE:BUTTON_VARIANT_STYLES[variant],className),shouldWrapWithText="string"==typeof children||"number"==typeof children;return(0,jsx_runtime.jsx)(Component,{className:wrapper,disabled,...props,children:shouldWrapWithText?(0,jsx_runtime.jsx)(Text.A,{as:"span",textStyle,children}):children})}Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{as:{required:!1,tsType:{name:"T"},description:""},variant:{required:!1,tsType:{name:"union",raw:'"default" | "confirm" | "gradation" | "hover" | "press" | "cancel"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"confirm"'},{name:"literal",value:'"gradation"'},{name:"literal",value:'"hover"'},{name:"literal",value:'"press"'},{name:"literal",value:'"cancel"'}]},description:"",defaultValue:{value:'"default"',computed:!1}},textStyle:{required:!1,tsType:{name:'Parameters[0]["textStyle"]',raw:'Parameters<typeof Text>[0]["textStyle"]'},description:"",defaultValue:{value:'"label2"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""}}}},"./src/components/Header.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Header});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_Text__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./src/components/Text.tsx")),next_image__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs");function Header({user,onClickLogo,onClickProfile}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("header",{className:"w-full bg-white shadow z-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mx-auto max-w-[1100px] px-4 h-[60px] flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.A,{as:"h1",className:"text-semantic-primary-normal cursor-pointer",onClick:onClickLogo,children:"Momentier"})}),user?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center gap-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_3__.A,{src:"/icons/Avatar.svg",alt:"유저프로필이미지",width:40,height:40,onClick:onClickProfile})}):null]})})}Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{user:{required:!0,tsType:{name:"union",raw:"User | null",elements:[{name:"User"},{name:"null"}]},description:""},onClickLogo:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClickProfile:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/components/Text.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Text});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");const TEXT_STYLES={display1:"text-[56px] leading-[72px] tracking-[-0.0316em]",display2:"text-[40px] leading-[52px] tracking-[-0.0282em]",title1:"text-[36px] leading-[48px] tracking-[-0.0272em]",title2:"text-[28px] leading-[38px] tracking-[-0.0236em]",title3:"text-[24px] leading-[32px] tracking-[-0.0232em]",heading1:"text-[22px] leading-[30px] tracking-[-0.0176em]",heading2:"text-[20px] leading-[28px] tracking-[-0.012em]",headline1:"text-[18px] leading-[26px] tracking-[-0.002em]",headline2:"text-[17px] leading-[24px] tracking-[0em]",body1:"text-[16px] leading-[24px] tracking-[0.0057em]",body1Reading:"text-[16px] leading-[28px] tracking-[0.0057em]",body2:"text-[15px] leading-[22px] tracking-[0.0069em]",body2Reading:"text-[15px] leading-[26px] tracking-[0.0069em]",label1:"text-[14px] leading-[20px] tracking-[0.0145em]",label1Reading:"text-[14px] leading-[22px] tracking-[0.0145em]",label2:"text-[12px] leading-[18px] tracking-[0.0156em]",caption1:"text-[12px] leading-[16px] tracking-[0.0137em]",caption2:"text-[10px] leading-[14px] tracking-[0.0137em]"};function Text({as,textStyle="body1",className="",children,...props}){const Component=as||"span";var _TEXT_STYLES_textStyle;const styleClass=null!==(_TEXT_STYLES_textStyle=TEXT_STYLES[textStyle])&&void 0!==_TEXT_STYLES_textStyle?_TEXT_STYLES_textStyle:"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Component,{className:`${styleClass} ${className}`,...props,children})}Text.__docgenInfo={description:"",methods:[],displayName:"Text",props:{as:{required:!1,tsType:{name:"T"},description:""},textStyle:{required:!1,tsType:{name:"union",raw:"keyof typeof TEXT_STYLES",elements:[{name:"literal",value:"display1"},{name:"literal",value:"display2"},{name:"literal",value:"title1"},{name:"literal",value:"title2"},{name:"literal",value:"title3"},{name:"literal",value:"heading1"},{name:"literal",value:"heading2"},{name:"literal",value:"headline1"},{name:"literal",value:"headline2"},{name:"literal",value:"body1"},{name:"literal",value:"body1Reading"},{name:"literal",value:"body2"},{name:"literal",value:"body2Reading"},{name:"literal",value:"label1"},{name:"literal",value:"label1Reading"},{name:"literal",value:"label2"},{name:"literal",value:"caption1"},{name:"literal",value:"caption2"}]},description:"",defaultValue:{value:'"body1"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""}}}},"./src/lib/api/itinerary.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{gJ:()=>changeAttraction,VX:()=>getPublicItineraries,o9:()=>getRecommendText,RR:()=>getRecommendedDestinations});var axios=__webpack_require__("./node_modules/axios/lib/axios.js"),useAuthStore=__webpack_require__("./src/store/useAuthStore.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");var process=__webpack_require__("./node_modules/process/browser.js"),axiosInstance_console=__webpack_require__("./node_modules/console-browserify/index.js");const backendUrl=process.env.NEXT_PUBLIC_API_BASE_URL,axiosInstance_axiosInstance=axios.A.create({baseURL:backendUrl,headers:{"Content-Type":"application/json"},withCredentials:!0});axiosInstance_axiosInstance.interceptors.request.use((config=>{const{user}=useAuthStore.n.getState();return(null==user?void 0:user.accessToken)&&(config.headers.Authorization=`Bearer ${user.accessToken}`),config}),(error=>Promise.reject(error))),axiosInstance_axiosInstance.interceptors.response.use((response=>response),(async error=>{const originalRequest=error.config;if(originalRequest.url.includes("/auth/token/reissue"))return axiosInstance_console.warn("🛑 토큰 재발급 요청은 인터셉터에서 무시합니다."),Promise.reject(error);if(!useAuthStore.n.getState().isLoggedIn)return axiosInstance_console.warn("🔒 로그아웃 상태입니다. 요청 중단"),Promise.reject(error);if(401===error.response.status&&!originalRequest._retry){originalRequest._retry=!0,axiosInstance_console.warn("🔄 401 발생, 토큰 재발급 시도 중...");const newAccessToken=await(async()=>{try{const response=await api_axiosInstance.post("/auth/token/reissue");if(200===response.status){const{accessToken,userName,expiresIn}=response.data;return useAuthStore.n.getState().login({userName,accessToken,expiresIn}),console.log("🔄 토큰 재발급 성공"),response.data}return console.error("❌ 토큰 재발급 실패"),useAuthStore.n.getState().logout(),null}catch(error){return console.error("토큰 재발급 중 오류 발생:",error),useAuthStore.n.getState().logout(),null}})();if(newAccessToken)return axiosInstance_console.log(newAccessToken),axiosInstance_console.log("✅ 토큰 재발급 성공, 요청 재시도"),originalRequest.headers.Authorization=`Bearer ${newAccessToken}`,axiosInstance_axiosInstance(originalRequest);axiosInstance_console.log("Test"),axiosInstance_console.error("❌ 토큰 재발급 실패, 로그아웃 처리"),useAuthStore.n.getState().logout(),window.location.href="/main"}return Promise.reject(error)}));const api_axiosInstance=axiosInstance_axiosInstance,getRecommendedDestinations=async data=>{try{return(await api_axiosInstance.get("/itinerary/preview",{params:data})).data}catch(error){var _error_response;throw new Error((null===(_error_response=error.response)||void 0===_error_response?void 0:_error_response.data.message)||"추천 장소를 불러오지 못했습니다.")}},getPublicItineraries=async limit=>{try{return(await api_axiosInstance.get(`/itinerary/public?limit=${limit}`)).data}catch(error){var _error_response;throw new Error((null===(_error_response=error.response)||void 0===_error_response?void 0:_error_response.data.message)||"공개된 여행 코스 목록을 불러오지 못했습니다.")}},getRecommendText=async(params="")=>{try{return(await api_axiosInstance.get("/itinerary/recommend/text",{params:{input:params}})).data}catch(err){var _err_response;throw new Error((null===(_err_response=err.response)||void 0===_err_response?void 0:_err_response.data.message)||"여행테마 추천 검색어 불러오기에 실패했습니다.")}},changeAttraction=async data=>{try{return(await api_axiosInstance.post("/itinerary/change/attraction",data)).data}catch(error){var _error_response;throw new Error((null===(_error_response=error.response)||void 0===_error_response?void 0:_error_response.data.message)||"관광지 정보를 변경하지 못했습니다.")}}},"./src/store/useAuthStore.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>useAuthStore});var zustand__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zustand/esm/react.mjs"),zustand_middleware__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zustand/esm/middleware.mjs");const useAuthStore=(0,zustand__WEBPACK_IMPORTED_MODULE_0__.v)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_1__.Zr)((set=>({isLoggedIn:!1,user:null,hasHydrated:!1,setHasHydrated:value=>set({hasHydrated:value}),login:user=>set({isLoggedIn:!0,user}),logout:()=>{set({isLoggedIn:!1,user:null})}})),{name:"auth-storage",onRehydrateStorage:()=>state=>{null==state||state.setHasHydrated(!0)}}))},"./src/stories/UserInputPage.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>UserInputPage_stories,사용자정보입력페이지:()=>사용자정보입력페이지});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs");function Chip({children,imageSrc,selected=!1,onClick}){return(0,jsx_runtime.jsxs)("button",{onClick,className:`\n      flex items-center px-4 py-2 rounded-full border transition-all text-sm font-medium\n      ${selected?"border-[#9A77FF] text-[#9A77FF] bg-[#F1EBFF]":"border-gray-200 text-gray-700 bg-white hover:border-[#9A77FF] hover:text-[#9A77FF]"}\n    `,children:[imageSrc?(0,jsx_runtime.jsx)(next_image.A,{src:imageSrc,alt:"chip icon",width:20,height:20,className:"mr-2"}):null,children]})}Chip.__docgenInfo={description:"",methods:[],displayName:"Chip",props:{children:{required:!0,tsType:{name:"string"},description:""},imageSrc:{required:!1,tsType:{name:"string"},description:""},selected:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function ChipGroupSingle({items,value,onChange,className="flex gap-3 flex-wrap"}){const[internalValue,setInternalValue]=(0,react.useState)(value||""),selectedValue=void 0!==value?value:internalValue;return(0,jsx_runtime.jsx)("div",{className,children:items.map((({label,value:itemValue,imageSrc})=>(0,jsx_runtime.jsx)(Chip,{imageSrc,selected:selectedValue===itemValue,onClick:()=>{return newValue=itemValue,void 0===value&&setInternalValue(newValue),void(null==onChange||onChange(newValue));var newValue},children:label},itemValue)))})}ChipGroupSingle.__docgenInfo={description:"",methods:[],displayName:"ChipGroupSingle",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"ChipItem"}],raw:"ChipItem[]"},description:""},value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"flex gap-3 flex-wrap"',computed:!1}}}};var style=__webpack_require__("./node_modules/styled-jsx/style.js"),style_default=__webpack_require__.n(style),Text=__webpack_require__("./src/components/Text.tsx");function FullScreenLoader(){return(0,jsx_runtime.jsxs)("div",{className:"jsx-42d6736646769727 fixed inset-0 flex flex-col items-center justify-center bg-semantic-static-white z-50",children:[(0,jsx_runtime.jsx)("div",{className:"jsx-42d6736646769727 flex space-x-2 mb-4",children:[...Array(4)].map(((_,i)=>(0,jsx_runtime.jsx)("div",{style:{animationDelay:.3*i+"s"},className:"jsx-42d6736646769727 w-3 h-3 rounded-full animate-bounce-dot"},i)))}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"title2",as:"p",className:"font-bold mt-[84px]",children:"모먼티어가 맞춤 여행지를 열심히 고르고 있어요!"}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"heading2",className:"font-semibold text-[#8c8c8c] mt-[20px]",children:"잠시만 기다려주세요"}),(0,jsx_runtime.jsx)(style_default(),{id:"42d6736646769727",children:"@-webkit-keyframes bounce-dot{0%,100%{-webkit-transform:translatey(0);transform:translatey(0);background-color:#e0e0e0}50%{-webkit-transform:translatey(-10px);transform:translatey(-10px);background-color:#7c49ff}}@-moz-keyframes bounce-dot{0%,100%{-moz-transform:translatey(0);transform:translatey(0);background-color:#e0e0e0}50%{-moz-transform:translatey(-10px);transform:translatey(-10px);background-color:#7c49ff}}@-o-keyframes bounce-dot{0%,100%{-o-transform:translatey(0);transform:translatey(0);background-color:#e0e0e0}50%{-o-transform:translatey(-10px);transform:translatey(-10px);background-color:#7c49ff}}@keyframes bounce-dot{0%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);background-color:#e0e0e0}50%{-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px);background-color:#7c49ff}}"})]})}FullScreenLoader.__docgenInfo={description:"",methods:[],displayName:"FullScreenLoader"};var Button=__webpack_require__("./src/components/Button.tsx");function BaseModal({children,onClose}){const[show,setShow]=(0,react.useState)(!1),modalRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{requestAnimationFrame((()=>setShow(!0)));const handleEsc=e=>{"Escape"===e.key&&triggerClose()};document.addEventListener("keydown",handleEsc);const prev=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",handleEsc),document.body.style.overflow=prev}}),[]);const triggerClose=()=>{setShow(!1),onClose()};return(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-[rgba(0,0,0,0.5)]",onMouseDown:e=>{modalRef.current&&!modalRef.current.contains(e.target)&&triggerClose()},children:(0,jsx_runtime.jsxs)("div",{ref:modalRef,className:"bg-white rounded-2xl p-6 w-[460px] relative shadow-lg transition-all duration-200 "+(show?"opacity-100 scale-100":"opacity-0 scale-95"),children:[(0,jsx_runtime.jsx)("div",{className:"flex justify-end mb-[24px]",children:(0,jsx_runtime.jsx)("button",{onClick:triggerClose,"aria-label":"Close",children:(0,jsx_runtime.jsx)("img",{src:"/icons/Close.svg",alt:"닫기"})})}),children]})})}function AlertModal({title,description,onClose,children,buttonText}){return(0,jsx_runtime.jsxs)(BaseModal,{onClose,children:[(0,jsx_runtime.jsx)(Text.A,{as:"h2",textStyle:"heading1",className:"font-semibold text-center",children:title}),description?(0,jsx_runtime.jsx)(Text.A,{as:"p",textStyle:"body1",className:"text-center text-semantic-label-alternative mt-3",children:description}):null,children&&(0,jsx_runtime.jsx)("div",{className:"mt-4",children}),(0,jsx_runtime.jsx)("div",{className:"flex justify-center mt-9",children:(0,jsx_runtime.jsx)(Button.A,{variant:"gradation",onClick:onClose,className:"w-[50%]",textStyle:"body1",children:buttonText})})]})}function ConfirmModal({title,description,onCancel,onConfirm,children,cancelText,confirmText,onClose}){return(0,jsx_runtime.jsxs)(BaseModal,{onClose:onClose||onCancel,children:[(0,jsx_runtime.jsx)(Text.A,{as:"h2",textStyle:"heading1",className:"font-semibold text-center",children:title}),description?(0,jsx_runtime.jsx)(Text.A,{as:"p",textStyle:"body1",className:"whitespace-pre-line text-center text-semantic-label-alternative mt-3",children:description}):null,children&&(0,jsx_runtime.jsx)("div",{className:"mt-4",children}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between mt-9",children:[(0,jsx_runtime.jsx)(Button.A,{variant:"cancel",textStyle:"body1",className:"w-[50%] mr-2.5",onClick:onCancel,children:cancelText}),(0,jsx_runtime.jsx)(Button.A,{variant:"gradation",onClick:onConfirm,className:"w-[50%]",textStyle:"body1",children:confirmText})]})]})}function TextField({placeholder="",value,onChange,variant="outlined",...otherProps}){const variantClass="filled"===variant?"bg-gray-50 border border-transparent focus:border-[#9A77FF]":"bg-white border border-gray-300 focus:border-[#9A77FF]";return(0,jsx_runtime.jsx)("textarea",{placeholder,value,onChange:e=>onChange(e.target.value),className:`w-full p-4 text-sm rounded-xl outline-none resize-none transition-colors ${variantClass}`,rows:4,...otherProps})}function UserInputSummary({companion,period,inputText}){return(0,jsx_runtime.jsxs)("div",{className:"p-5 bg-component-fill-alternative rounded-xl space-y-3",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Text.A,{textStyle:"label1",as:"strong",className:"mr-[12px] font-semibold",children:"여행 인원"}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"label1",className:"text-semantic-primary-strong font-medium",children:companion})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Text.A,{textStyle:"label1",as:"strong",className:"mr-[12px] font-semibold",children:"여행 기간"}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"label1",className:"text-semantic-primary-strong font-medium",children:period})]}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"label1",as:"strong",className:"mb-2 font-semibold inline-block",children:"여행 스타일"}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"label1",as:"p",className:"bg-semantic-static-white rounded-[12px] px-4 py-3 text-[#404040] break-words",children:inputText})]})}BaseModal.__docgenInfo={description:"",methods:[],displayName:"BaseModal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}},AlertModal.__docgenInfo={description:"",methods:[],displayName:"AlertModal",props:{title:{required:!0,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},buttonText:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}},ConfirmModal.__docgenInfo={description:"",methods:[],displayName:"ConfirmModal",props:{title:{required:!0,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},onCancel:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onConfirm:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},cancelText:{required:!0,tsType:{name:"string"},description:""},confirmText:{required:!0,tsType:{name:"string"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}},TextField.__docgenInfo={description:"",methods:[],displayName:"TextField",props:{placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},variant:{required:!1,tsType:{name:"union",raw:'"filled" | "outlined"',elements:[{name:"literal",value:'"filled"'},{name:"literal",value:'"outlined"'}]},description:"",defaultValue:{value:'"outlined"',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""}}},UserInputSummary.__docgenInfo={description:"",methods:[],displayName:"UserInputSummary",props:{companion:{required:!0,tsType:{name:"string"},description:""},period:{required:!0,tsType:{name:"string"},description:""},inputText:{required:!0,tsType:{name:"string"},description:""}}};var ModalProvider=__webpack_require__("./src/providers/ModalProvider.tsx");function useModal(builder){const{openModal,closeModal}=(0,ModalProvider.k)();return{open:(0,react.useCallback)(((...args)=>{const modalElement=builder(...args);openModal(modalElement)}),[openModal,builder]),close:closeModal}}var itinerary=__webpack_require__("./src/lib/api/itinerary.ts"),esm_react=__webpack_require__("./node_modules/zustand/esm/react.mjs"),middleware=__webpack_require__("./node_modules/zustand/esm/middleware.mjs");const useUserInputStore=(0,esm_react.v)()((0,middleware.Zr)((set=>({inputs:null,setInputs:inputs=>set({inputs}),clearInputs:()=>set({inputs:null})})),{name:"user-input"})),useRecommendTravelListStore=(0,esm_react.v)()((0,middleware.Zr)((set=>({items:[],setItems:items=>set({items}),clearItems:()=>set({items:[]})})),{name:"recommend-list"}));(0,esm_react.v)()((0,middleware.Zr)((set=>({itinerary:null,setItinerary:itinerary=>set({itinerary}),clearItinerary:()=>set({itinerary:null})})),{name:"recommend-detail"}));var navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs");const COMPANIONS=[{value:"alone",label:"혼자",imageSrc:"/icons/alone.png"},{value:"family",label:"가족",imageSrc:"/icons/family.png"},{value:"friends",label:"친구/지인",imageSrc:"/icons/friend.png"},{value:"lover",label:"연인",imageSrc:"/icons/couple.png"}],DURATIONS=[{value:"1",label:"당일치기"},{value:"2",label:"1박 2일"},{value:"3",label:"2박 3일"},{value:"4",label:"3박 4일"},{value:"5",label:"4박 5일"}];function UserInputs(){const router=(0,navigation.useRouter)(),[isLoading,setIsLoading]=(0,react.useState)(!1),[isTextLoading,setIsTextLoading]=(0,react.useState)(!1),[companion,setCompanion]=(0,react.useState)(""),[duration,setDuration]=(0,react.useState)(""),[travelDescription,setTravelDescription]=(0,react.useState)(""),isButtonDisabled=(0,react.useMemo)((()=>""===companion||(""===duration||""===travelDescription)),[companion,duration,travelDescription]),[errMessage,setErrMessage]=(0,react.useState)("");(0,react.useEffect)((()=>()=>{confirmRecommendModal.close()}),[]);const onClickContinueRecommend=async()=>{await(async()=>{try{setIsLoading(!0);const today=new Date,yyyy=today.getFullYear(),formattedToday=`${yyyy}-${String(today.getMonth()+1).padStart(2,"0")}-${String(today.getDate()).padStart(2,"0")}`,params={travelWith:companion,description:travelDescription,duration:Number(duration),startDate:formattedToday},result=await(0,itinerary.RR)(params);return useRecommendTravelListStore.getState().setItems(result),useUserInputStore.getState().setInputs({...params,requestCount:0}),!0}catch(err){return setErrMessage(err.message),confirmRecommendModal.close(),errModal.open(),!1}finally{setIsLoading(!1)}})()&&router.push("/travel/recommend")},confirmRecommendModal=useModal((()=>{var _COMPANIONS_find,_DURATIONS_find;const companionText=(null===(_COMPANIONS_find=COMPANIONS.find((item=>item.value===companion)))||void 0===_COMPANIONS_find?void 0:_COMPANIONS_find.label)||"",durationText=(null===(_DURATIONS_find=DURATIONS.find((item=>item.value===duration)))||void 0===_DURATIONS_find?void 0:_DURATIONS_find.label)||"";return(0,jsx_runtime.jsx)(ConfirmModal,{title:"이 정보로 여행지를 추천해드릴게요",description:"맞는지 한 번 더 확인해주세요!",cancelText:"다시 입력하기",onCancel:confirmRecommendModal.close,confirmText:"계속 추천받기",onConfirm:onClickContinueRecommend,children:(0,jsx_runtime.jsx)(UserInputSummary,{companion:companionText,period:durationText,inputText:travelDescription})})})),errModal=useModal((()=>(0,jsx_runtime.jsx)(AlertModal,{title:"정보를 불러오는데 실패했습니다!",description:errMessage,buttonText:"확인",onClose:errModal.close})));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("section",{className:"max-w-[1100px] mx-auto px-[20px] mt-[60px]",children:[(0,jsx_runtime.jsx)(Text.A,{as:"h1",textStyle:"display2",className:"mb-3 font-bold",children:"여행 준비, 간단하고 쉽게 시작하세요!"}),(0,jsx_runtime.jsx)(Text.A,{as:"p",textStyle:"body1",className:"t mb-10 text-semantic-label-alternative",children:"모먼티어에게 몇 가지 정보를 알려주시면, 감정과 스타일에 딱 맞는 여행지를 추천해드릴게요."}),(0,jsx_runtime.jsxs)("div",{className:"mt-[60px]",children:[(0,jsx_runtime.jsxs)(Text.A,{textStyle:"title3",className:"block mb-4 font-bold",children:["누구와 함께 여행을 떠나시나요? ",(0,jsx_runtime.jsx)("span",{className:"text-semantic-primary-normal",children:"*"})]}),(0,jsx_runtime.jsx)(ChipGroupSingle,{items:COMPANIONS,value:companion,onChange:setCompanion})]}),(0,jsx_runtime.jsxs)("div",{className:"mt-[60px]",children:[(0,jsx_runtime.jsxs)(Text.A,{textStyle:"title3",className:"block mb-4 font-bold",children:["며칠 동안 떠나고 싶으신가요? ",(0,jsx_runtime.jsx)("span",{className:"text-semantic-primary-normal",children:"*"})]}),(0,jsx_runtime.jsx)(ChipGroupSingle,{items:DURATIONS,value:duration,onChange:setDuration})]}),(0,jsx_runtime.jsxs)("div",{className:"mt-[60px]",children:[(0,jsx_runtime.jsxs)(Text.A,{textStyle:"title3",className:"block mb-4 font-bold",children:["어떤 여행을 꿈꾸고 계신가요? ",(0,jsx_runtime.jsx)("span",{className:"text-semantic-primary-normal",children:"*"})]}),(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(TextField,{disabled:isTextLoading,value:travelDescription,onChange:setTravelDescription,placeholder:"요즘 지쳐서 조용하고 힐링되는 여행이었으면 좋겠어요, 자연 쪽으로 가고 싶어요 등",variant:"outlined"}),isTextLoading&&(0,jsx_runtime.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,jsx_runtime.jsxs)("svg",{className:"w-5 h-5 animate-spin text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,jsx_runtime.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,jsx_runtime.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})})]}),(0,jsx_runtime.jsx)("div",{className:"mt-2",children:(0,jsx_runtime.jsxs)("button",{className:"flex items-center px-4 py-2 text-semantic-label-alternative border border-semantic-line-normalneutral rounded-[20px] bg-component-fill-alternative hover:bg-[#9A77FF1A] hover:border-[#9A77FF1A] active:text-semantic-primary-normal active:ring-2 active:ring-semantic-primary-normal ring-offset-0",onClick:async()=>{try{setIsTextLoading(!0);const result=await(0,itinerary.o9)(travelDescription);setTravelDescription(result)}catch(err){setErrMessage(err.message),errModal.open()}finally{setIsTextLoading(!1)}},children:[(0,jsx_runtime.jsx)("img",{src:"./icons/stars.svg",alt:"추천을위한 별모양 아이콘"}),(0,jsx_runtime.jsx)(Text.A,{as:"p",className:"ml-2 font-normal",children:"잘 모르겠어요. 추천해주세요!"})]})})]}),(0,jsx_runtime.jsx)("div",{className:"mt-[60px]",children:(0,jsx_runtime.jsxs)("button",{disabled:isButtonDisabled,className:"flex justify-between w-[186px] text-[18px] px-5 py-3 rounded-[25px] font-semibold text-semantic-static-white \n              "+(isButtonDisabled?"bg-[#D9D9D9] cursor-not-allowed":"bg-semantic-primary-normal"),onClick:()=>{confirmRecommendModal.open()},children:["다음",(0,jsx_runtime.jsx)("img",{src:"./icons/Arrow Right White.svg",alt:"오른쪽을 가리키는 화살표"})]})})]}),isLoading?(0,jsx_runtime.jsx)(FullScreenLoader,{}):null]})}UserInputs.__docgenInfo={description:"",methods:[],displayName:"UserInputs"};var Header=__webpack_require__("./src/components/Header.tsx");function UserInput(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Header.A,{user:{userName:"Jane Doe",accessToken:"dummy-access-token",profileImage:"/icons/Avatar.svg",expiresIn:1e5},onClickLogo:()=>{}}),(0,jsx_runtime.jsx)(UserInputs,{})]})}UserInput.__docgenInfo={description:"",methods:[],displayName:"UserInput"};const UserInputPage_stories={title:"Pages/UserInput",component:UserInput,parameters:{layout:"fullscreen"}},사용자정보입력페이지={},__namedExportsOrder=["사용자정보입력페이지"];사용자정보입력페이지.parameters={...사용자정보입력페이지.parameters,docs:{...사용자정보입력페이지.parameters?.docs,source:{originalSource:"{}",...사용자정보입력페이지.parameters?.docs?.source}}}}}]);